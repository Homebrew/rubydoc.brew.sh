<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: DownloadStrategyDetector
  
    &mdash; Homebrew Ruby API
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "DownloadStrategyDetector";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (D)</a> &raquo;
    
    
    <span class="title">DownloadStrategyDetector</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: DownloadStrategyDetector
  
  
  <span class="private note title">Private</span>
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">DownloadStrategyDetector</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>download_strategy.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This class is part of a private API.</strong>
  This class may only be used in the <a href="https://github.com/Homebrew/brew">Homebrew/brew</a> repository.
  Third parties should avoid using this class if possible, as it may be removed or changed without warning.
</p>
<p>Helper class for detecting a download strategy from a URL.</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#detect-class_method" title="detect (class method)">.<strong>detect</strong>(url, using = nil)  &#x21d2; Object </a>
    
    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>
  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#detect_from_symbol-class_method" title="detect_from_symbol (class method)">.<strong>detect_from_symbol</strong>(symbol)  &#x21d2; Object </a>
    
    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>
  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#detect_from_url-class_method" title="detect_from_url (class method)">.<strong>detect_from_url</strong>(url)  &#x21d2; Object </a>
    
    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>
  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="detect-class_method">
  
    .<strong>detect</strong>(url, using = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  This method may only be used in the <a href="https://github.com/Homebrew/brew">Homebrew/brew</a> repository.
  Third parties should avoid using this method if possible, as it may be removed or changed without warning.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1370
1371
1372
1373
1374
1375
1376
1377
1378
1379
1380
1381</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'download_strategy.rb', line 1370</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_detect'>detect</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_using'>using</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_using'>using</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_detect_from_url'>detect_from_url</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_using'>using</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Class</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_using'>using</span> <span class='op'>&lt;</span> <span class='const'><span class='object_link'><a href="AbstractDownloadStrategy.html" title="AbstractDownloadStrategy (class)">AbstractDownloadStrategy</a></span></span>
    <span class='id identifier rubyid_using'>using</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_using'>using</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Symbol.html" title="Symbol (class)">Symbol</a></span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_detect_from_symbol'>detect_from_symbol</span><span class='lparen'>(</span><span class='id identifier rubyid_using'>using</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span>
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown download strategy specification </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_using'>using</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="detect_from_symbol-class_method">
  
    .<strong>detect_from_symbol</strong>(symbol)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  This method may only be used in the <a href="https://github.com/Homebrew/brew">Homebrew/brew</a> repository.
  Third parties should avoid using this method if possible, as it may be removed or changed without warning.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1418
1419
1420
1421
1422
1423
1424
1425
1426
1427
1428
1429
1430
1431
1432
1433</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'download_strategy.rb', line 1418</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_detect_from_symbol'>detect_from_symbol</span><span class='lparen'>(</span><span class='id identifier rubyid_symbol'>symbol</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_symbol'>symbol</span>
  <span class='kw'>when</span> <span class='symbol'>:hg</span>                     <span class='kw'>then</span> <span class='const'><span class='object_link'><a href="MercurialDownloadStrategy.html" title="MercurialDownloadStrategy (class)">MercurialDownloadStrategy</a></span></span>
  <span class='kw'>when</span> <span class='symbol'>:nounzip</span>                <span class='kw'>then</span> <span class='const'><span class='object_link'><a href="NoUnzipCurlDownloadStrategy.html" title="NoUnzipCurlDownloadStrategy (class)">NoUnzipCurlDownloadStrategy</a></span></span>
  <span class='kw'>when</span> <span class='symbol'>:git</span>                    <span class='kw'>then</span> <span class='const'><span class='object_link'><a href="GitDownloadStrategy.html" title="GitDownloadStrategy (class)">GitDownloadStrategy</a></span></span>
  <span class='kw'>when</span> <span class='symbol'>:bzr</span>                    <span class='kw'>then</span> <span class='const'><span class='object_link'><a href="BazaarDownloadStrategy.html" title="BazaarDownloadStrategy (class)">BazaarDownloadStrategy</a></span></span>
  <span class='kw'>when</span> <span class='symbol'>:svn</span>                    <span class='kw'>then</span> <span class='const'><span class='object_link'><a href="SubversionDownloadStrategy.html" title="SubversionDownloadStrategy (class)">SubversionDownloadStrategy</a></span></span>
  <span class='kw'>when</span> <span class='symbol'>:curl</span>                   <span class='kw'>then</span> <span class='const'><span class='object_link'><a href="CurlDownloadStrategy.html" title="CurlDownloadStrategy (class)">CurlDownloadStrategy</a></span></span>
  <span class='kw'>when</span> <span class='symbol'>:homebrew_curl</span>          <span class='kw'>then</span> <span class='const'><span class='object_link'><a href="HomebrewCurlDownloadStrategy.html" title="HomebrewCurlDownloadStrategy (class)">HomebrewCurlDownloadStrategy</a></span></span>
  <span class='kw'>when</span> <span class='symbol'>:cvs</span>                    <span class='kw'>then</span> <span class='const'><span class='object_link'><a href="CVSDownloadStrategy.html" title="CVSDownloadStrategy (class)">CVSDownloadStrategy</a></span></span>
  <span class='kw'>when</span> <span class='symbol'>:post</span>                   <span class='kw'>then</span> <span class='const'><span class='object_link'><a href="CurlPostDownloadStrategy.html" title="CurlPostDownloadStrategy (class)">CurlPostDownloadStrategy</a></span></span>
  <span class='kw'>when</span> <span class='symbol'>:fossil</span>                 <span class='kw'>then</span> <span class='const'><span class='object_link'><a href="FossilDownloadStrategy.html" title="FossilDownloadStrategy (class)">FossilDownloadStrategy</a></span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown download strategy </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_symbol'>symbol</span><span class='embexpr_end'>}</span><span class='tstring_content'> was requested.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="detect_from_url-class_method">
  
    .<strong>detect_from_url</strong>(url)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  This method may only be used in the <a href="https://github.com/Homebrew/brew">Homebrew/brew</a> repository.
  Third parties should avoid using this method if possible, as it may be removed or changed without warning.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1383
1384
1385
1386
1387
1388
1389
1390
1391
1392
1393
1394
1395
1396
1397
1398
1399
1400
1401
1402
1403
1404
1405
1406
1407
1408
1409
1410
1411
1412
1413
1414
1415
1416</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'download_strategy.rb', line 1383</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_detect_from_url'>detect_from_url</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_url'>url</span>
  <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="GitHubPackages.html" title="GitHubPackages (class)">GitHubPackages</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GitHubPackages.html#URL_REGEX-constant" title="GitHubPackages::URL_REGEX (constant)">URL_REGEX</a></span></span>
    <span class='const'><span class='object_link'><a href="CurlGitHubPackagesDownloadStrategy.html" title="CurlGitHubPackagesDownloadStrategy (class)">CurlGitHubPackagesDownloadStrategy</a></span></span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^https?://github\.com/[^/]+/[^/]+\.git$</span><span class='regexp_end'>}</span></span>
    <span class='const'><span class='object_link'><a href="GitHubGitDownloadStrategy.html" title="GitHubGitDownloadStrategy (class)">GitHubGitDownloadStrategy</a></span></span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^https?://.+\.git$</span><span class='regexp_end'>}</span></span><span class='comma'>,</span>
       <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^git://</span><span class='regexp_end'>}</span></span><span class='comma'>,</span>
       <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^https?://git\.sr\.ht/[^/]+/[^/]+$</span><span class='regexp_end'>}</span></span>
    <span class='const'><span class='object_link'><a href="GitDownloadStrategy.html" title="GitDownloadStrategy (class)">GitDownloadStrategy</a></span></span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^https?://www\.apache\.org/dyn/closer\.cgi</span><span class='regexp_end'>}</span></span><span class='comma'>,</span>
       <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^https?://www\.apache\.org/dyn/closer\.lua</span><span class='regexp_end'>}</span></span>
    <span class='const'><span class='object_link'><a href="CurlApacheMirrorDownloadStrategy.html" title="CurlApacheMirrorDownloadStrategy (class)">CurlApacheMirrorDownloadStrategy</a></span></span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^https?://([A-Za-z0-9\-.]+\.)?googlecode\.com/svn</span><span class='regexp_end'>}</span></span><span class='comma'>,</span>
       <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^https?://svn\.</span><span class='regexp_end'>}</span></span><span class='comma'>,</span>
       <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^svn://</span><span class='regexp_end'>}</span></span><span class='comma'>,</span>
       <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^svn\+http://</span><span class='regexp_end'>}</span></span><span class='comma'>,</span>
       <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^http://svn\.apache\.org/repos/</span><span class='regexp_end'>}</span></span><span class='comma'>,</span>
       <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^https?://([A-Za-z0-9\-.]+\.)?sourceforge\.net/svnroot/</span><span class='regexp_end'>}</span></span>
    <span class='const'><span class='object_link'><a href="SubversionDownloadStrategy.html" title="SubversionDownloadStrategy (class)">SubversionDownloadStrategy</a></span></span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^cvs://</span><span class='regexp_end'>}</span></span>
    <span class='const'><span class='object_link'><a href="CVSDownloadStrategy.html" title="CVSDownloadStrategy (class)">CVSDownloadStrategy</a></span></span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^hg://</span><span class='regexp_end'>}</span></span><span class='comma'>,</span>
       <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^https?://([A-Za-z0-9\-.]+\.)?googlecode\.com/hg</span><span class='regexp_end'>}</span></span><span class='comma'>,</span>
       <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^https?://([A-Za-z0-9\-.]+\.)?sourceforge\.net/hgweb/</span><span class='regexp_end'>}</span></span>
    <span class='const'><span class='object_link'><a href="MercurialDownloadStrategy.html" title="MercurialDownloadStrategy (class)">MercurialDownloadStrategy</a></span></span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^bzr://</span><span class='regexp_end'>}</span></span>
    <span class='const'><span class='object_link'><a href="BazaarDownloadStrategy.html" title="BazaarDownloadStrategy (class)">BazaarDownloadStrategy</a></span></span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^fossil://</span><span class='regexp_end'>}</span></span>
    <span class='const'><span class='object_link'><a href="FossilDownloadStrategy.html" title="FossilDownloadStrategy (class)">FossilDownloadStrategy</a></span></span>
  <span class='kw'>else</span>
    <span class='const'><span class='object_link'><a href="CurlDownloadStrategy.html" title="CurlDownloadStrategy (class)">CurlDownloadStrategy</a></span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
     Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>.
</div>

    </div>
  </body>
</html>