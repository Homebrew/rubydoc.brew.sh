<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Homebrew::DevCmd::BumpFormulaPr
  
    &mdash; Homebrew Ruby API
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Homebrew::DevCmd::BumpFormulaPr";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (B)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Homebrew.html" title="Homebrew (module)">Homebrew</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../DevCmd.html" title="Homebrew::DevCmd (module)">DevCmd</a></span></span>
     &raquo; 
    <span class="title">BumpFormulaPr</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Homebrew::DevCmd::BumpFormulaPr
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="../AbstractCommand.html" title="Homebrew::AbstractCommand (class)">AbstractCommand</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next"><span class='object_link'><a href="../AbstractCommand.html" title="Homebrew::AbstractCommand (class)">AbstractCommand</a></span></li>
          
            <li class="next">Homebrew::DevCmd::BumpFormulaPr</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>dev-cmd/bump-formula-pr.rb</dd>
  </dl>
  
</div>







  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="../AbstractCommand.html" title="Homebrew::AbstractCommand (class)">AbstractCommand</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../AbstractCommand.html#args-instance_method" title="Homebrew::AbstractCommand#args (method)">#args</a></span></p>


  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#run-instance_method" title="#run (instance method)">#<strong>run</strong>  &#x21d2; void </a>
    
    
  </span>
  
  
  
  
  
  
  
  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="../AbstractCommand.html" title="Homebrew::AbstractCommand (class)">AbstractCommand</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../AbstractCommand.html#command-class_method" title="Homebrew::AbstractCommand.command (method)">command</a></span>, <span class='object_link'><a href="../AbstractCommand.html#command_name-class_method" title="Homebrew::AbstractCommand.command_name (method)">command_name</a></span>, <span class='object_link'><a href="../AbstractCommand.html#initialize-instance_method" title="Homebrew::AbstractCommand#initialize (method)">#initialize</a></span>, <span class='object_link'><a href="../AbstractCommand.html#parser-class_method" title="Homebrew::AbstractCommand.parser (method)">parser</a></span></p>

  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <p class="notice">This class inherits a constructor from <span class='object_link'><a href="../AbstractCommand.html#initialize-instance_method" title="Homebrew::AbstractCommand#initialize (method)">Homebrew::AbstractCommand</a></span></p>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="run-instance_method">
  
    #<strong>run</strong>  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'dev-cmd/bump-formula-pr.rb', line 94</span>

<span class='kw'>def</span> <span class='id identifier rubyid_run'>run</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_revision'>revision</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_tag'>tag</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../UsageError.html" title="UsageError (class)">UsageError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`--revision` must be passed with either `--tag` or `--version`!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='comment'># As this command is simplifying user-run commands then let&#39;s just use a
</span>  <span class='comment'># user path, too.
</span>  <span class='const'><span class='object_link'><a href="../../ENV.html" title="ENV (class)">ENV</a></span></span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PATH</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../PATH.html" title="PATH (class)">PATH</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../../PATH.html#initialize-instance_method" title="PATH#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../top-level-namespace.html#ORIGINAL_PATHS-constant" title="ORIGINAL_PATHS (constant)">ORIGINAL_PATHS</a></span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>

  <span class='comment'># Use the user&#39;s browser, too.
</span>  <span class='const'><span class='object_link'><a href="../../ENV.html" title="ENV (class)">ENV</a></span></span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BROWSER</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Homebrew.html" title="Homebrew (module)">Homebrew</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../EnvConfig.html" title="Homebrew::EnvConfig (module)">EnvConfig</a></span></span><span class='period'>.</span><span class='id identifier rubyid_browser'><span class='object_link'><a href="../EnvConfig.html#browser-class_method" title="Homebrew::EnvConfig.browser (method)">browser</a></span></span>

  <span class='id identifier rubyid_formula'>formula</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_to_formulae'>to_formulae</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='id identifier rubyid_new_url'>new_url</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../FormulaUnspecifiedError.html" title="FormulaUnspecifiedError (class)">FormulaUnspecifiedError</a></span></span> <span class='kw'>if</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>

  <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This formula is disabled!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_disabled?'>disabled?</span>
  <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This formula is deprecated and does not build!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_deprecation_reason'>deprecation_reason</span> <span class='op'>==</span> <span class='symbol'>:does_not_build</span>
  <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This formula is not in a tap!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
  <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This formula&#39;s tap is not a Git repository!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_git?'>git?</span>

  <span class='id identifier rubyid_odie'>odie</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span> <span class='kw'>unless</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_allow_bump?'>allow_bump?</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
<span class='tstring_content'>    Whoops, the </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> formula has its version update
</span><span class='tstring_content'>    pull requests automatically opened by BrewTestBot!
</span><span class='tstring_content'>    We&#39;d still love your contributions, though, so try another one
</span><span class='tstring_content'>    that&#39;s not in the autobump list:
</span><span class='tstring_content'>      </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../../Formatter.html" title="Formatter (module)">Formatter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_url'><span class='object_link'><a href="../../Formatter.html#url-class_method" title="Formatter.url (method)">url</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_remote'>remote</span><span class='embexpr_end'>}</span><span class='tstring_content'>/blob/master/.github/autobump.txt</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>  EOS
</span>
  <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You have too many PRs open: close or merge some first!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="../../GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='period'>.</span><span class='id identifier rubyid_too_many_open_prs?'><span class='object_link'><a href="../../GitHub.html#too_many_open_prs%3F-class_method" title="GitHub.too_many_open_prs? (method)">too_many_open_prs?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_formula_spec'>formula_spec</span> <span class='op'>=</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_stable'>stable</span>
  <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='embexpr_end'>}</span><span class='tstring_content'>: no stable specification found!</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_formula_spec'>formula_spec</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>

  <span class='comment'># This will be run by `brew audit` later so run it first to not start
</span>  <span class='comment'># spamming during normal output.
</span>  <span class='const'><span class='object_link'><a href="../../Homebrew.html" title="Homebrew (module)">Homebrew</a></span></span><span class='period'>.</span><span class='id identifier rubyid_install_bundler_gems!'><span class='object_link'><a href="../../Homebrew.html#install_bundler_gems!-class_method" title="Homebrew.install_bundler_gems! (method)">install_bundler_gems!</a></span></span><span class='lparen'>(</span><span class='label'>groups:</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>audit</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>style</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_no_audit?'>no_audit?</span>

  <span class='id identifier rubyid_tap_remote_repo'>tap_remote_repo</span> <span class='op'>=</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_full_name'>full_name</span> <span class='op'>||</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_remote_repo'>remote_repo</span>
  <span class='id identifier rubyid_remote'>remote</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>origin</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_remote_branch'>remote_branch</span> <span class='op'>=</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_git_repo'>git_repo</span><span class='period'>.</span><span class='id identifier rubyid_origin_branch_name'>origin_branch_name</span>
  <span class='id identifier rubyid_previous_branch'>previous_branch</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_check_open_pull_requests'>check_open_pull_requests</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_tap_remote_repo'>tap_remote_repo</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_new_version'>new_version</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
  <span class='id identifier rubyid_check_new_version'>check_new_version</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_tap_remote_repo'>tap_remote_repo</span><span class='comma'>,</span> <span class='label'>version:</span> <span class='id identifier rubyid_new_version'>new_version</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_new_version'>new_version</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>

  <span class='id identifier rubyid_opoo'>opoo</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This formula has patches that may be resolved upstream.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_patchlist'>patchlist</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_resources'>resources</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_resource'>resource</span><span class='op'>|</span> <span class='op'>!</span><span class='id identifier rubyid_resource'>resource</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homebrew-</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_opoo'>opoo</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This formula has resources that may need to be updated.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_old_mirrors'>old_mirrors</span> <span class='op'>=</span> <span class='id identifier rubyid_formula_spec'>formula_spec</span><span class='period'>.</span><span class='id identifier rubyid_mirrors'>mirrors</span>
  <span class='id identifier rubyid_new_mirrors'>new_mirrors</span> <span class='op'>||=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_mirror'>mirror</span>
  <span class='id identifier rubyid_new_mirror'>new_mirror</span> <span class='op'>||=</span> <span class='id identifier rubyid_determine_mirror'>determine_mirror</span><span class='lparen'>(</span><span class='id identifier rubyid_new_url'>new_url</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new_mirrors'>new_mirrors</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_new_mirror'>new_mirror</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_new_mirror'>new_mirror</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>

  <span class='id identifier rubyid_check_for_mirrors'>check_for_mirrors</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_old_mirrors'>old_mirrors</span><span class='comma'>,</span> <span class='id identifier rubyid_new_mirrors'>new_mirrors</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_new_url'>new_url</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>

  <span class='id identifier rubyid_old_hash'>old_hash</span> <span class='op'>=</span> <span class='id identifier rubyid_formula_spec'>formula_spec</span><span class='period'>.</span><span class='id identifier rubyid_checksum'>checksum</span><span class='op'>&amp;.</span><span class='id identifier rubyid_hexdigest'>hexdigest</span>
  <span class='id identifier rubyid_new_hash'>new_hash</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_sha256'>sha256</span>
  <span class='id identifier rubyid_new_tag'>new_tag</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_tag'>tag</span>
  <span class='id identifier rubyid_new_revision'>new_revision</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_revision'>revision</span>
  <span class='id identifier rubyid_old_url'>old_url</span> <span class='op'>=</span> <span class='id identifier rubyid_formula_spec'>formula_spec</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span>
  <span class='id identifier rubyid_old_tag'>old_tag</span> <span class='op'>=</span> <span class='id identifier rubyid_formula_spec'>formula_spec</span><span class='period'>.</span><span class='id identifier rubyid_specs'>specs</span><span class='lbracket'>[</span><span class='symbol'>:tag</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_old_formula_version'>old_formula_version</span> <span class='op'>=</span> <span class='id identifier rubyid_formula_version'>formula_version</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_old_version'>old_version</span> <span class='op'>=</span> <span class='id identifier rubyid_old_formula_version'>old_formula_version</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_forced_version'>forced_version</span> <span class='op'>=</span> <span class='id identifier rubyid_new_version'>new_version</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
  <span class='id identifier rubyid_new_url_hash'>new_url_hash</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_new_url'>new_url</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_new_hash'>new_hash</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='id identifier rubyid_check_new_version'>check_new_version</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_tap_remote_repo'>tap_remote_repo</span><span class='comma'>,</span> <span class='label'>url:</span> <span class='id identifier rubyid_new_url'>new_url</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_new_version'>new_version</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
    <span class='kw'>true</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_new_tag'>new_tag</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_new_revision'>new_revision</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='id identifier rubyid_check_new_version'>check_new_version</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_tap_remote_repo'>tap_remote_repo</span><span class='comma'>,</span> <span class='label'>url:</span> <span class='id identifier rubyid_old_url'>old_url</span><span class='comma'>,</span> <span class='label'>tag:</span> <span class='id identifier rubyid_new_tag'>new_tag</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_new_version'>new_version</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
    <span class='kw'>false</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_old_hash'>old_hash</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_new_tag'>new_tag</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_new_version'>new_version</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_new_revision'>new_revision</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../UsageError.html" title="UsageError (class)">UsageError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='embexpr_end'>}</span><span class='tstring_content'>: no `--tag` or `--version` argument specified!</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_old_tag'>old_tag</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
      <span class='id identifier rubyid_new_tag'>new_tag</span> <span class='op'>||=</span> <span class='id identifier rubyid_old_tag'>old_tag</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='id identifier rubyid_old_version'>old_version</span><span class='comma'>,</span> <span class='id identifier rubyid_new_version'>new_version</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_new_tag'>new_tag</span> <span class='op'>==</span> <span class='id identifier rubyid_old_tag'>old_tag</span>
        <span class='id identifier rubyid_odie'>odie</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>          You need to bump this formula manually since the new tag
</span><span class='tstring_content'>          and old tag are both </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_tag'>new_tag</span><span class='embexpr_end'>}</span><span class='tstring_content'>.
</span><span class='heredoc_end'>        EOS
</span>      <span class='kw'>end</span>
      <span class='id identifier rubyid_check_new_version'>check_new_version</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_tap_remote_repo'>tap_remote_repo</span><span class='comma'>,</span> <span class='label'>url:</span> <span class='id identifier rubyid_old_url'>old_url</span><span class='comma'>,</span> <span class='label'>tag:</span> <span class='id identifier rubyid_new_tag'>new_tag</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_new_version'>new_version</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
      <span class='id identifier rubyid_resource_path'>resource_path</span><span class='comma'>,</span> <span class='id identifier rubyid_forced_version'>forced_version</span> <span class='op'>=</span> <span class='id identifier rubyid_fetch_resource_and_forced_version'>fetch_resource_and_forced_version</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_new_version'>new_version</span><span class='comma'>,</span> <span class='id identifier rubyid_old_url'>old_url</span><span class='comma'>,</span>
                                                                        <span class='label'>tag:</span> <span class='id identifier rubyid_new_tag'>new_tag</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_new_revision'>new_revision</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Utils.html" title="Utils (module)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen_read'><span class='object_link'><a href="../../Utils.html#popen_read-class_method" title="Utils.popen_read (method)">popen_read</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>git</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-C</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_resource_path'>resource_path</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rev-parse</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-q</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--verify</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HEAD</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_new_revision'>new_revision</span> <span class='op'>=</span> <span class='id identifier rubyid_new_revision'>new_revision</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_new_revision'>new_revision</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
      <span class='id identifier rubyid_odie'>odie</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='embexpr_end'>}</span><span class='tstring_content'>: the current URL requires specifying a `--revision=` argument.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='kw'>false</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_new_url'>new_url</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_new_version'>new_version</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../UsageError.html" title="UsageError (class)">UsageError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='embexpr_end'>}</span><span class='tstring_content'>: no `--url` or `--version` argument specified!</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_new_url'>new_url</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="../../PyPI.html" title="PyPI (module)">PyPI</a></span></span><span class='period'>.</span><span class='id identifier rubyid_update_pypi_url'><span class='object_link'><a href="../../PyPI.html#update_pypi_url-class_method" title="PyPI.update_pypi_url (method)">update_pypi_url</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_old_url'>old_url</span><span class='comma'>,</span> <span class='const'>T</span><span class='period'>.</span><span class='id identifier rubyid_must'>must</span><span class='lparen'>(</span><span class='id identifier rubyid_new_version'>new_version</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_new_url'>new_url</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
      <span class='id identifier rubyid_new_url'>new_url</span> <span class='op'>=</span> <span class='id identifier rubyid_update_url'>update_url</span><span class='lparen'>(</span><span class='id identifier rubyid_old_url'>old_url</span><span class='comma'>,</span> <span class='id identifier rubyid_old_version'>old_version</span><span class='comma'>,</span> <span class='const'>T</span><span class='period'>.</span><span class='id identifier rubyid_must'>must</span><span class='lparen'>(</span><span class='id identifier rubyid_new_version'>new_version</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_new_mirrors'>new_mirrors</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_old_mirrors'>old_mirrors</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
        <span class='id identifier rubyid_new_mirrors'>new_mirrors</span> <span class='op'>=</span> <span class='id identifier rubyid_old_mirrors'>old_mirrors</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_old_mirror'>old_mirror</span><span class='op'>|</span>
          <span class='id identifier rubyid_update_url'>update_url</span><span class='lparen'>(</span><span class='id identifier rubyid_old_mirror'>old_mirror</span><span class='comma'>,</span> <span class='id identifier rubyid_old_version'>old_version</span><span class='comma'>,</span> <span class='const'>T</span><span class='period'>.</span><span class='id identifier rubyid_must'>must</span><span class='lparen'>(</span><span class='id identifier rubyid_new_version'>new_version</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_new_url'>new_url</span> <span class='op'>==</span> <span class='id identifier rubyid_old_url'>old_url</span>
      <span class='id identifier rubyid_odie'>odie</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>        You need to bump this formula manually since the new URL
</span><span class='tstring_content'>        and old URL are both:
</span><span class='tstring_content'>          </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_url'>new_url</span><span class='embexpr_end'>}</span><span class='tstring_content'>
</span><span class='heredoc_end'>      EOS
</span>    <span class='kw'>end</span>
    <span class='id identifier rubyid_check_new_version'>check_new_version</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_tap_remote_repo'>tap_remote_repo</span><span class='comma'>,</span> <span class='label'>url:</span> <span class='id identifier rubyid_new_url'>new_url</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_new_version'>new_version</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
    <span class='id identifier rubyid_resource_path'>resource_path</span><span class='comma'>,</span> <span class='id identifier rubyid_forced_version'>forced_version</span> <span class='op'>=</span> <span class='id identifier rubyid_fetch_resource_and_forced_version'>fetch_resource_and_forced_version</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_new_version'>new_version</span><span class='comma'>,</span> <span class='id identifier rubyid_new_url'>new_url</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="../../Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Utils/Tar.html" title="Utils::Tar (module)">Tar</a></span></span><span class='period'>.</span><span class='id identifier rubyid_validate_file'><span class='object_link'><a href="../../Utils/Tar.html#validate_file-class_method" title="Utils::Tar.validate_file (method)">validate_file</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_resource_path'>resource_path</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_new_hash'>new_hash</span> <span class='op'>=</span> <span class='id identifier rubyid_resource_path'>resource_path</span><span class='period'>.</span><span class='id identifier rubyid_sha256'>sha256</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_revision'>revision</span><span class='period'>.</span><span class='id identifier rubyid_nonzero?'>nonzero?</span>
    <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span>
      <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^  revision \d+\n(\n(  head &quot;))?</span><span class='regexp_end'>/m</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\2</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span> <span class='op'>+=</span> <span class='id identifier rubyid_formula_spec'>formula_spec</span><span class='period'>.</span><span class='id identifier rubyid_mirrors'>mirrors</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_mirror'>mirror</span><span class='op'>|</span>
    <span class='lbracket'>[</span>
      <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'> +mirror &quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='id identifier rubyid_mirror'>mirror</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;\n</span><span class='regexp_end'>/m</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span> <span class='op'>+=</span> <span class='kw'>if</span> <span class='id identifier rubyid_new_url_hash'>new_url_hash</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='lbracket'>[</span>
      <span class='lbracket'>[</span>
        <span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='id identifier rubyid_formula_spec'>formula_spec</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='regexp_end'>/</span></span><span class='comma'>,</span>
        <span class='id identifier rubyid_new_url'>new_url</span><span class='comma'>,</span>
      <span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='lbracket'>[</span>
        <span class='id identifier rubyid_old_hash'>old_hash</span><span class='comma'>,</span>
        <span class='id identifier rubyid_new_hash'>new_hash</span><span class='comma'>,</span>
      <span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='rbracket'>]</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_new_tag'>new_tag</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='lbracket'>[</span>
      <span class='lbracket'>[</span>
        <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>tag:(\s+&quot;)</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula_spec'>formula_spec</span><span class='period'>.</span><span class='id identifier rubyid_specs'>specs</span><span class='lbracket'>[</span><span class='symbol'>:tag</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>(?=&quot;)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tag:\\1</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_tag'>new_tag</span><span class='embexpr_end'>}</span><span class='tstring_content'>\\2</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='lbracket'>[</span>
        <span class='id identifier rubyid_formula_spec'>formula_spec</span><span class='period'>.</span><span class='id identifier rubyid_specs'>specs</span><span class='lbracket'>[</span><span class='symbol'>:revision</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='id identifier rubyid_new_revision'>new_revision</span><span class='comma'>,</span>
      <span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='rbracket'>]</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_new_url'>new_url</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='lbracket'>[</span>
      <span class='lbracket'>[</span>
        <span class='tstring'><span class='regexp_beg'>/</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='id identifier rubyid_formula_spec'>formula_spec</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='regexp_end'>/</span></span><span class='comma'>,</span>
        <span class='id identifier rubyid_new_url'>new_url</span><span class='comma'>,</span>
      <span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='lbracket'>[</span>
        <span class='id identifier rubyid_formula_spec'>formula_spec</span><span class='period'>.</span><span class='id identifier rubyid_specs'>specs</span><span class='lbracket'>[</span><span class='symbol'>:revision</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='id identifier rubyid_new_revision'>new_revision</span><span class='comma'>,</span>
      <span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='lbracket'>[</span>
      <span class='lbracket'>[</span>
        <span class='id identifier rubyid_formula_spec'>formula_spec</span><span class='period'>.</span><span class='id identifier rubyid_specs'>specs</span><span class='lbracket'>[</span><span class='symbol'>:revision</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='id identifier rubyid_new_revision'>new_revision</span><span class='comma'>,</span>
      <span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_old_contents'>old_contents</span> <span class='op'>=</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_new_mirrors'>new_mirrors</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span>
      <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^( +)(url &quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='const'>T</span><span class='period'>.</span><span class='id identifier rubyid_must'>must</span><span class='lparen'>(</span><span class='id identifier rubyid_new_url'>new_url</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;[^\n]*?\n)</span><span class='regexp_end'>/m</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\1\\2\\1mirror \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_mirrors'>new_mirrors</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\&quot;\n\\1mirror \&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_forced_version'>forced_version</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_new_version'>new_version</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span> <span class='op'>&lt;&lt;</span> <span class='kw'>if</span> <span class='id identifier rubyid_old_contents'>old_contents</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>version \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old_formula_version'>old_formula_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='lbracket'>[</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>version \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old_formula_version'>old_formula_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>version \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_version'>new_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='rbracket'>]</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_new_mirrors'>new_mirrors</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
      <span class='lbracket'>[</span>
        <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^( +)(mirror &quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='id identifier rubyid_new_mirrors'>new_mirrors</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;\n)</span><span class='regexp_end'>/m</span></span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\1\\2\\1version \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_version'>new_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='rbracket'>]</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_new_url'>new_url</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
      <span class='lbracket'>[</span>
        <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^( +)(url &quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='id identifier rubyid_new_url'>new_url</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;[^\n]*?\n)</span><span class='regexp_end'>/m</span></span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\1\\2\\1version \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_version'>new_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='rbracket'>]</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_new_revision'>new_revision</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
      <span class='lbracket'>[</span>
        <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^( {2})( +)(:revision =&gt; &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_revision'>new_revision</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;\n)</span><span class='regexp_end'>/m</span></span><span class='comma'>,</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\1\\2\\3\\1version \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_version'>new_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_forced_version'>forced_version</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_new_version'>new_version</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span>
      <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^  version &quot;[\w.\-+]+&quot;\n</span><span class='regexp_end'>/m</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_new_contents'>new_contents</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Utils.html" title="Utils (module)">Utils</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Utils/Inreplace.html" title="Utils::Inreplace (module)">Inreplace</a></span></span><span class='period'>.</span><span class='id identifier rubyid_inreplace_pairs'><span class='object_link'><a href="../../Utils/Inreplace.html#inreplace_pairs-class_method" title="Utils::Inreplace.inreplace_pairs (method)">inreplace_pairs</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span>
                                                  <span class='id identifier rubyid_replacement_pairs'>replacement_pairs</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='comma'>,</span>
                                                  <span class='label'>read_only_run:</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dry_run?'>dry_run?</span><span class='comma'>,</span>
                                                  <span class='label'>silent:</span>        <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_quiet?'>quiet?</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_new_formula_version'>new_formula_version</span> <span class='op'>=</span> <span class='id identifier rubyid_formula_version'>formula_version</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_new_contents'>new_contents</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_new_formula_version'>new_formula_version</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_old_formula_version'>old_formula_version</span>
    <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_atomic_write'>atomic_write</span><span class='lparen'>(</span><span class='id identifier rubyid_old_contents'>old_contents</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dry_run?'>dry_run?</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      You need to bump this formula manually since changing the version
</span><span class='tstring_content'>      from </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_old_formula_version'>old_formula_version</span><span class='embexpr_end'>}</span><span class='tstring_content'> to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_formula_version'>new_formula_version</span><span class='embexpr_end'>}</span><span class='tstring_content'> would be a downgrade.
</span><span class='heredoc_end'>    EOS
</span>  <span class='kw'>elsif</span> <span class='id identifier rubyid_new_formula_version'>new_formula_version</span> <span class='op'>==</span> <span class='id identifier rubyid_old_formula_version'>old_formula_version</span>
    <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_atomic_write'>atomic_write</span><span class='lparen'>(</span><span class='id identifier rubyid_old_contents'>old_contents</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dry_run?'>dry_run?</span>
    <span class='id identifier rubyid_odie'>odie</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>      You need to bump this formula manually since the new version
</span><span class='tstring_content'>      and old version are both </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_formula_version'>new_formula_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>.
</span><span class='heredoc_end'>    EOS
</span>  <span class='kw'>end</span>

  <span class='id identifier rubyid_alias_rename'>alias_rename</span> <span class='op'>=</span> <span class='id identifier rubyid_alias_update_pair'>alias_update_pair</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_new_formula_version'>new_formula_version</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='id identifier rubyid_ohai'>ohai</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Renaming alias </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'> to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='period'>.</span><span class='id identifier rubyid_alias_dir'>alias_dir</span><span class='op'>/</span><span class='id identifier rubyid_a'>a</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dry_run?'>dry_run?</span>
    <span class='id identifier rubyid_resources_checked'>resources_checked</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../PyPI.html" title="PyPI (module)">PyPI</a></span></span><span class='period'>.</span><span class='id identifier rubyid_update_python_resources!'><span class='object_link'><a href="../../PyPI.html#update_python_resources!-class_method" title="PyPI.update_python_resources! (method)">update_python_resources!</a></span></span> <span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span>
                                                      <span class='label'>version:</span>                  <span class='id identifier rubyid_new_formula_version'>new_formula_version</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span>
                                                      <span class='label'>package_name:</span>             <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_python_package_name'>python_package_name</span><span class='comma'>,</span>
                                                      <span class='label'>extra_packages:</span>           <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_python_extra_packages'>python_extra_packages</span><span class='comma'>,</span>
                                                      <span class='label'>exclude_packages:</span>         <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_python_exclude_packages'>python_exclude_packages</span><span class='comma'>,</span>
                                                      <span class='label'>install_dependencies:</span>     <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_install_dependencies?'>install_dependencies?</span><span class='comma'>,</span>
                                                      <span class='label'>silent:</span>                   <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_quiet?'>quiet?</span><span class='comma'>,</span>
                                                      <span class='label'>ignore_non_pypi_packages:</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_run_audit'>run_audit</span><span class='lparen'>(</span><span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='comma'>,</span> <span class='id identifier rubyid_old_contents'>old_contents</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_pr_message'>pr_message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Created with `brew bump-formula-pr`.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_resources_checked'>resources_checked</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_resources'>resources</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_resource'>resource</span><span class='op'>|</span> <span class='op'>!</span><span class='id identifier rubyid_resource'>resource</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homebrew-</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_pr_message'>pr_message</span> <span class='op'>+=</span> <span class='heredoc_beg'>&lt;&lt;~EOS</span>
<span class='tstring_content'>
</span><span class='tstring_content'>
</span><span class='tstring_content'>      - [ ] `resource` blocks have been checked for updates.
</span><span class='heredoc_end'>    EOS
</span>  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_new_url'>new_url</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>^https://github\.com/([\w-]+)/([\w-]+)/archive/refs/tags/(v?[.0-9]+)\.tar\.</span><span class='regexp_end'>}</span></span>
    <span class='id identifier rubyid_owner'>owner</span> <span class='op'>=</span> <span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_repo'>repo</span> <span class='op'>=</span> <span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_tag'>tag</span> <span class='op'>=</span> <span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_last_match'>last_match</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_github_release_data'>github_release_data</span> <span class='op'>=</span> <span class='kw'>begin</span>
      <span class='const'><span class='object_link'><a href="../../GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../GitHub/API.html" title="GitHub::API (module)">API</a></span></span><span class='period'>.</span><span class='id identifier rubyid_open_rest'><span class='object_link'><a href="../../GitHub/API.html#open_rest-class_method" title="GitHub::API.open_rest (method)">open_rest</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../../GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../GitHub.html#API_URL-constant" title="GitHub::API_URL (constant)">API_URL</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/repos/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_owner'>owner</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_repo'>repo</span><span class='embexpr_end'>}</span><span class='tstring_content'>/releases/tags/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tag'>tag</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../../GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../GitHub/API.html" title="GitHub::API (module)">API</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../GitHub/API/HTTPNotFoundError.html" title="GitHub::API::HTTPNotFoundError (class)">HTTPNotFoundError</a></span></span>
      <span class='comment'># If this is a 404: we can&#39;t do anything.
</span>      <span class='kw'>nil</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_github_release_data'>github_release_data</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
      <span class='id identifier rubyid_pre'>pre</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pre</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_github_release_data'>github_release_data</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>prerelease</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
      <span class='id identifier rubyid_pr_message'>pr_message</span> <span class='op'>+=</span> <span class='heredoc_beg'>&lt;&lt;~XML</span>
<span class='tstring_content'>        &lt;details&gt;
</span><span class='tstring_content'>          &lt;summary&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pre'>pre</span><span class='embexpr_end'>}</span><span class='tstring_content'>release notes&lt;/summary&gt;
</span><span class='tstring_content'>          &lt;pre&gt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_github_release_data'>github_release_data</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>body</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>&lt;/pre&gt;
</span><span class='tstring_content'>        &lt;/details&gt;
</span><span class='heredoc_end'>      XML
</span>    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_pr_info'>pr_info</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>sourcefile_path:</span>  <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span>
    <span class='label'>old_contents:</span><span class='comma'>,</span>
    <span class='label'>additional_files:</span> <span class='id identifier rubyid_alias_rename'>alias_rename</span><span class='comma'>,</span>
    <span class='label'>remote:</span><span class='comma'>,</span>
    <span class='label'>remote_branch:</span><span class='comma'>,</span>
    <span class='label'>branch_name:</span>      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bump-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_formula_version'>new_formula_version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='label'>commit_message:</span>   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_formula_version'>new_formula_version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='label'>previous_branch:</span><span class='comma'>,</span>
    <span class='label'>tap:</span>              <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span><span class='comma'>,</span>
    <span class='label'>tap_remote_repo:</span><span class='comma'>,</span>
    <span class='label'>pr_message:</span><span class='comma'>,</span>
  <span class='rbrace'>}</span>
  <span class='const'><span class='object_link'><a href="../../GitHub.html" title="GitHub (module)">GitHub</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_bump_pr'><span class='object_link'><a href="../../GitHub.html#create_bump_pr-class_method" title="GitHub.create_bump_pr (method)">create_bump_pr</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_pr_info'>pr_info</span><span class='comma'>,</span> <span class='label'>args:</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
     Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>.
</div>

    </div>
  </body>
</html>