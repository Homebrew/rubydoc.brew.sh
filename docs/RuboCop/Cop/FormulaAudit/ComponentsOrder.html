<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: RuboCop::Cop::FormulaAudit::ComponentsOrder
  
    &mdash; Homebrew Ruby API
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "RuboCop::Cop::FormulaAudit::ComponentsOrder";
  relpath = '../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../RuboCop.html" title="RuboCop (module)">RuboCop</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Cop.html" title="RuboCop::Cop (module)">Cop</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../FormulaAudit.html" title="RuboCop::Cop::FormulaAudit (module)">FormulaAudit</a></span></span>
     &raquo; 
    <span class="title">ComponentsOrder</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: RuboCop::Cop::FormulaAudit::ComponentsOrder
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="../FormulaCop.html" title="RuboCop::Cop::FormulaCop (class)">RuboCop::Cop::FormulaCop</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="../../Cop.html" title="RuboCop::Cop (module)">RuboCop::Cop</a></span></li>
          
            <li class="next"><span class='object_link'><a href="../FormulaCop.html" title="RuboCop::Cop::FormulaCop (class)">RuboCop::Cop::FormulaCop</a></span></li>
          
            <li class="next">RuboCop::Cop::FormulaAudit::ComponentsOrder</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>brew/Library/Homebrew/rubocops/components_order.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>This cop checks for correct order of components in formulae.</p>

<ul>
  <li><code>component_precedence_list</code> has component hierarchy in a nested list
where each sub array contains components’ details which are at same precedence level</li>
</ul>


  </div>
</div>
<div class="tags">
  

</div>





  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="../FormulaCop.html" title="RuboCop::Cop::FormulaCop (class)">RuboCop::Cop::FormulaCop</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../FormulaCop.html#file_path-instance_method" title="RuboCop::Cop::FormulaCop#file_path (method)">#file_path</a></span></p>


  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#audit_formula-instance_method" title="#audit_formula (instance method)">#<strong>audit_formula</strong>(_node, _class_node, _parent_class_node, body_node)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#autocorrect-instance_method" title="#autocorrect (instance method)">#<strong>autocorrect</strong>(_node)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><span class='object_link'><a href="#autocorrect-instance_method" title="RuboCop::Cop::FormulaAudit::ComponentsOrder#autocorrect (method)">#autocorrect</a></span> gets called just after <span class='object_link'><a href="#component_problem-instance_method" title="RuboCop::Cop::FormulaAudit::ComponentsOrder#component_problem (method)">#component_problem</a></span>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#check_on_os_block_content-instance_method" title="#check_on_os_block_content (instance method)">#<strong>check_on_os_block_content</strong>(component_precedence_list, on_os_block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#check_order-instance_method" title="#check_order (instance method)">#<strong>check_order</strong>(component_precedence_list, body_node)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#component_problem-instance_method" title="#component_problem (instance method)">#<strong>component_problem</strong>(c1, c2)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Method to format message for reporting component precedence violations.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_state-instance_method" title="#get_state (instance method)">#<strong>get_state</strong>(node1)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns precedence index and component’s index to properly reorder and group during autocorrect.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reorder_components-instance_method" title="#reorder_components (instance method)">#<strong>reorder_components</strong>(corrector, node1, node2)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Reorder two nodes in the source, using the corrector instance in autocorrect method.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="../FormulaCop.html" title="RuboCop::Cop::FormulaCop (class)">RuboCop::Cop::FormulaCop</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../FormulaCop.html#audit_comments-instance_method" title="RuboCop::Cop::FormulaCop#audit_comments (method)">#audit_comments</a></span>, <span class='object_link'><a href="../FormulaCop.html#audit_urls-instance_method" title="RuboCop::Cop::FormulaCop#audit_urls (method)">#audit_urls</a></span>, <span class='object_link'><a href="../FormulaCop.html#block_size-instance_method" title="RuboCop::Cop::FormulaCop#block_size (method)">#block_size</a></span>, <span class='object_link'><a href="../FormulaCop.html#caveats_strings-instance_method" title="RuboCop::Cop::FormulaCop#caveats_strings (method)">#caveats_strings</a></span>, <span class='object_link'><a href="../FormulaCop.html#check_precedence-instance_method" title="RuboCop::Cop::FormulaCop#check_precedence (method)">#check_precedence</a></span>, <span class='object_link'><a href="../FormulaCop.html#class_name-instance_method" title="RuboCop::Cop::FormulaCop#class_name (method)">#class_name</a></span>, <span class='object_link'><a href="../FormulaCop.html#component_precedes%3F-instance_method" title="RuboCop::Cop::FormulaCop#component_precedes? (method)">#component_precedes?</a></span>, <span class='object_link'><a href="../FormulaCop.html#depends_on%3F-instance_method" title="RuboCop::Cop::FormulaCop#depends_on? (method)">#depends_on?</a></span>, <span class='object_link'><a href="../FormulaCop.html#depends_on_name_type%3F-instance_method" title="RuboCop::Cop::FormulaCop#depends_on_name_type? (method)">#depends_on_name_type?</a></span>, <span class='object_link'><a href="../FormulaCop.html#end_column-instance_method" title="RuboCop::Cop::FormulaCop#end_column (method)">#end_column</a></span>, <span class='object_link'><a href="../FormulaCop.html#expression_negated%3F-instance_method" title="RuboCop::Cop::FormulaCop#expression_negated? (method)">#expression_negated?</a></span>, <span class='object_link'><a href="../FormulaCop.html#find_all_blocks-instance_method" title="RuboCop::Cop::FormulaCop#find_all_blocks (method)">#find_all_blocks</a></span>, <span class='object_link'><a href="../FormulaCop.html#find_block-instance_method" title="RuboCop::Cop::FormulaCop#find_block (method)">#find_block</a></span>, <span class='object_link'><a href="../FormulaCop.html#find_blocks-instance_method" title="RuboCop::Cop::FormulaCop#find_blocks (method)">#find_blocks</a></span>, <span class='object_link'><a href="../FormulaCop.html#find_const-instance_method" title="RuboCop::Cop::FormulaCop#find_const (method)">#find_const</a></span>, <span class='object_link'><a href="../FormulaCop.html#find_every_func_call_by_name-instance_method" title="RuboCop::Cop::FormulaCop#find_every_func_call_by_name (method)">#find_every_func_call_by_name</a></span>, <span class='object_link'><a href="../FormulaCop.html#find_every_method_call_by_name-instance_method" title="RuboCop::Cop::FormulaCop#find_every_method_call_by_name (method)">#find_every_method_call_by_name</a></span>, <span class='object_link'><a href="../FormulaCop.html#find_instance_call-instance_method" title="RuboCop::Cop::FormulaCop#find_instance_call (method)">#find_instance_call</a></span>, <span class='object_link'><a href="../FormulaCop.html#find_instance_method_call-instance_method" title="RuboCop::Cop::FormulaCop#find_instance_method_call (method)">#find_instance_method_call</a></span>, <span class='object_link'><a href="../FormulaCop.html#find_method_calls_by_name-instance_method" title="RuboCop::Cop::FormulaCop#find_method_calls_by_name (method)">#find_method_calls_by_name</a></span>, <span class='object_link'><a href="../FormulaCop.html#find_method_def-instance_method" title="RuboCop::Cop::FormulaCop#find_method_def (method)">#find_method_def</a></span>, <span class='object_link'><a href="../FormulaCop.html#find_method_with_args-instance_method" title="RuboCop::Cop::FormulaCop#find_method_with_args (method)">#find_method_with_args</a></span>, <span class='object_link'><a href="../FormulaCop.html#find_node_method_by_name-instance_method" title="RuboCop::Cop::FormulaCop#find_node_method_by_name (method)">#find_node_method_by_name</a></span>, <span class='object_link'><a href="../FormulaCop.html#find_strings-instance_method" title="RuboCop::Cop::FormulaCop#find_strings (method)">#find_strings</a></span>, <span class='object_link'><a href="../FormulaCop.html#format_component-instance_method" title="RuboCop::Cop::FormulaCop#format_component (method)">#format_component</a></span>, <span class='object_link'><a href="../FormulaCop.html#formula_tap-instance_method" title="RuboCop::Cop::FormulaCop#formula_tap (method)">#formula_tap</a></span>, <span class='object_link'><a href="../FormulaCop.html#get_checksum_node-instance_method" title="RuboCop::Cop::FormulaCop#get_checksum_node (method)">#get_checksum_node</a></span>, <span class='object_link'><a href="../FormulaCop.html#method_called%3F-instance_method" title="RuboCop::Cop::FormulaCop#method_called? (method)">#method_called?</a></span>, <span class='object_link'><a href="../FormulaCop.html#method_called_ever%3F-instance_method" title="RuboCop::Cop::FormulaCop#method_called_ever? (method)">#method_called_ever?</a></span>, <span class='object_link'><a href="../FormulaCop.html#method_called_in_block%3F-instance_method" title="RuboCop::Cop::FormulaCop#method_called_in_block? (method)">#method_called_in_block?</a></span>, <span class='object_link'><a href="../FormulaCop.html#method_name-instance_method" title="RuboCop::Cop::FormulaCop#method_name (method)">#method_name</a></span>, <span class='object_link'><a href="../FormulaCop.html#node_equals%3F-instance_method" title="RuboCop::Cop::FormulaCop#node_equals? (method)">#node_equals?</a></span>, <span class='object_link'><a href="../FormulaCop.html#offending_node-instance_method" title="RuboCop::Cop::FormulaCop#offending_node (method)">#offending_node</a></span>, <span class='object_link'><a href="../FormulaCop.html#on_class-instance_method" title="RuboCop::Cop::FormulaCop#on_class (method)">#on_class</a></span>, <span class='object_link'><a href="../FormulaCop.html#parameters-instance_method" title="RuboCop::Cop::FormulaCop#parameters (method)">#parameters</a></span>, <span class='object_link'><a href="../FormulaCop.html#parameters_passed%3F-instance_method" title="RuboCop::Cop::FormulaCop#parameters_passed? (method)">#parameters_passed?</a></span>, <span class='object_link'><a href="../FormulaCop.html#size-instance_method" title="RuboCop::Cop::FormulaCop#size (method)">#size</a></span>, <span class='object_link'><a href="../FormulaCop.html#tap_style_exception%3F-instance_method" title="RuboCop::Cop::FormulaCop#tap_style_exception? (method)">#tap_style_exception?</a></span>, <span class='object_link'><a href="../FormulaCop.html#versioned_formula%3F-instance_method" title="RuboCop::Cop::FormulaCop#versioned_formula? (method)">#versioned_formula?</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../HelperFunctions.html" title="RuboCop::Cop::HelperFunctions (module)">HelperFunctions</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../HelperFunctions.html#line_number-instance_method" title="RuboCop::Cop::HelperFunctions#line_number (method)">#line_number</a></span>, <span class='object_link'><a href="../HelperFunctions.html#line_start_column-instance_method" title="RuboCop::Cop::HelperFunctions#line_start_column (method)">#line_start_column</a></span>, <span class='object_link'><a href="../HelperFunctions.html#problem-instance_method" title="RuboCop::Cop::HelperFunctions#problem (method)">#problem</a></span>, <span class='object_link'><a href="../HelperFunctions.html#regex_match_group-instance_method" title="RuboCop::Cop::HelperFunctions#regex_match_group (method)">#regex_match_group</a></span>, <span class='object_link'><a href="../HelperFunctions.html#source_buffer-instance_method" title="RuboCop::Cop::HelperFunctions#source_buffer (method)">#source_buffer</a></span>, <span class='object_link'><a href="../HelperFunctions.html#start_column-instance_method" title="RuboCop::Cop::HelperFunctions#start_column (method)">#start_column</a></span>, <span class='object_link'><a href="../HelperFunctions.html#string_content-instance_method" title="RuboCop::Cop::HelperFunctions#string_content (method)">#string_content</a></span></p>

  
  
  
  
  
  
  
  

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="audit_formula-instance_method">
  
    #<strong>audit_formula</strong>(_node, _class_node, _parent_class_node, body_node)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/rubocops/components_order.rb', line 14</span>

<span class='kw'>def</span> <span class='id identifier rubyid_audit_formula'>audit_formula</span><span class='lparen'>(</span><span class='id identifier rubyid__node'>_node</span><span class='comma'>,</span> <span class='id identifier rubyid__class_node'>_class_node</span><span class='comma'>,</span> <span class='id identifier rubyid__parent_class_node'>_parent_class_node</span><span class='comma'>,</span> <span class='id identifier rubyid_body_node'>body_node</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_component_precedence_list'>component_precedence_list</span> <span class='op'>=</span> <span class='lbracket'>[</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:include</span><span class='comma'>,</span>   <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:desc</span><span class='comma'>,</span>      <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:homepage</span><span class='comma'>,</span>  <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:url</span><span class='comma'>,</span>       <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:mirror</span><span class='comma'>,</span>    <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:version</span><span class='comma'>,</span>   <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:sha256</span><span class='comma'>,</span>    <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:revision</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:version_scheme</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:head</span><span class='comma'>,</span>      <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:stable</span><span class='comma'>,</span>    <span class='label'>type:</span> <span class='symbol'>:block_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:livecheck</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:block_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:bottle</span><span class='comma'>,</span>    <span class='label'>type:</span> <span class='symbol'>:block_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:pour_bottle?</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:block_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:head</span><span class='comma'>,</span>      <span class='label'>type:</span> <span class='symbol'>:block_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:bottle</span><span class='comma'>,</span>    <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:keg_only</span><span class='comma'>,</span>  <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:option</span><span class='comma'>,</span>    <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:deprecated_option</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:disable!</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:deprecate!</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:depends_on</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:uses_from_macos</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:on_macos</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:block_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:on_linux</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:block_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:conflicts_with</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:skip_clean</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:cxxstdlib_check</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:link_overwrite</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:fails_with</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='comma'>,</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:fails_with</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:block_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:go_resource</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:block_call</span> <span class='rbrace'>}</span><span class='comma'>,</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:resource</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:block_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:patch</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='comma'>,</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:patch</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:block_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:needs</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:install</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_definition</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:post_install</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_definition</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:caveats</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_definition</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:plist_options</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='comma'>,</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:plist</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_definition</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:test</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:block_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='rbracket'>]</span>

  <span class='ivar'>@present_components</span><span class='comma'>,</span> <span class='ivar'>@offensive_nodes</span> <span class='op'>=</span> <span class='id identifier rubyid_check_order'>check_order</span><span class='lparen'>(</span><span class='id identifier rubyid_component_precedence_list'>component_precedence_list</span><span class='comma'>,</span> <span class='id identifier rubyid_body_node'>body_node</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_component_problem'>component_problem</span> <span class='ivar'>@offensive_nodes</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='ivar'>@offensive_nodes</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='ivar'>@offensive_nodes</span>

  <span class='id identifier rubyid_component_precedence_list'>component_precedence_list</span> <span class='op'>=</span> <span class='lbracket'>[</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:depends_on</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:resource</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:block_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:patch</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:method_call</span> <span class='rbrace'>}</span><span class='comma'>,</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='symbol'>:patch</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:block_call</span> <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='rbracket'>]</span>

  <span class='id identifier rubyid_on_macos_blocks'>on_macos_blocks</span> <span class='op'>=</span> <span class='id identifier rubyid_find_blocks'>find_blocks</span><span class='lparen'>(</span><span class='id identifier rubyid_body_node'>body_node</span><span class='comma'>,</span> <span class='symbol'>:on_macos</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_on_macos_blocks'>on_macos_blocks</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='int'>1</span>
    <span class='ivar'>@offensive_node</span> <span class='op'>=</span> <span class='id identifier rubyid_on_macos_blocks'>on_macos_blocks</span><span class='period'>.</span><span class='id identifier rubyid_second'>second</span>
    <span class='ivar'>@offense_source_range</span> <span class='op'>=</span> <span class='id identifier rubyid_on_macos_blocks'>on_macos_blocks</span><span class='period'>.</span><span class='id identifier rubyid_second'>second</span><span class='period'>.</span><span class='id identifier rubyid_source_range'>source_range</span>
    <span class='id identifier rubyid_problem'>problem</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>there can only be one `on_macos` block in a formula.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_check_on_os_block_content'>check_on_os_block_content</span><span class='lparen'>(</span><span class='id identifier rubyid_component_precedence_list'>component_precedence_list</span><span class='comma'>,</span> <span class='id identifier rubyid_on_macos_blocks'>on_macos_blocks</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_on_macos_blocks'>on_macos_blocks</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>

  <span class='id identifier rubyid_on_linux_blocks'>on_linux_blocks</span> <span class='op'>=</span> <span class='id identifier rubyid_find_blocks'>find_blocks</span><span class='lparen'>(</span><span class='id identifier rubyid_body_node'>body_node</span><span class='comma'>,</span> <span class='symbol'>:on_linux</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_on_linux_blocks'>on_linux_blocks</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='int'>1</span>
    <span class='ivar'>@offensive_node</span> <span class='op'>=</span> <span class='id identifier rubyid_on_linux_blocks'>on_linux_blocks</span><span class='period'>.</span><span class='id identifier rubyid_second'>second</span>
    <span class='ivar'>@offense_source_range</span> <span class='op'>=</span> <span class='id identifier rubyid_on_linux_blocks'>on_linux_blocks</span><span class='period'>.</span><span class='id identifier rubyid_second'>second</span><span class='period'>.</span><span class='id identifier rubyid_source_range'>source_range</span>
    <span class='id identifier rubyid_problem'>problem</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>there can only be one `on_linux` block in a formula.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_check_on_os_block_content'>check_on_os_block_content</span><span class='lparen'>(</span><span class='id identifier rubyid_component_precedence_list'>component_precedence_list</span><span class='comma'>,</span> <span class='id identifier rubyid_on_linux_blocks'>on_linux_blocks</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_on_linux_blocks'>on_linux_blocks</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>

  <span class='id identifier rubyid_resource_blocks'>resource_blocks</span> <span class='op'>=</span> <span class='id identifier rubyid_find_blocks'>find_blocks</span><span class='lparen'>(</span><span class='id identifier rubyid_body_node'>body_node</span><span class='comma'>,</span> <span class='symbol'>:resource</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_resource_blocks'>resource_blocks</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_resource_block'>resource_block</span><span class='op'>|</span>
    <span class='id identifier rubyid_on_macos_blocks'>on_macos_blocks</span> <span class='op'>=</span> <span class='id identifier rubyid_find_blocks'>find_blocks</span><span class='lparen'>(</span><span class='id identifier rubyid_resource_block'>resource_block</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span><span class='comma'>,</span> <span class='symbol'>:on_macos</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_on_linux_blocks'>on_linux_blocks</span> <span class='op'>=</span> <span class='id identifier rubyid_find_blocks'>find_blocks</span><span class='lparen'>(</span><span class='id identifier rubyid_resource_block'>resource_block</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span><span class='comma'>,</span> <span class='symbol'>:on_linux</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_on_macos_blocks'>on_macos_blocks</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_on_linux_blocks'>on_linux_blocks</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>
      <span class='comment'># Found nothing. Try without .body as depending on the code,
</span>      <span class='comment'># on_macos or on_linux might be in .body or not ...
</span>      <span class='id identifier rubyid_on_macos_blocks'>on_macos_blocks</span> <span class='op'>=</span> <span class='id identifier rubyid_find_blocks'>find_blocks</span><span class='lparen'>(</span><span class='id identifier rubyid_resource_block'>resource_block</span><span class='comma'>,</span> <span class='symbol'>:on_macos</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_on_linux_blocks'>on_linux_blocks</span> <span class='op'>=</span> <span class='id identifier rubyid_find_blocks'>find_blocks</span><span class='lparen'>(</span><span class='id identifier rubyid_resource_block'>resource_block</span><span class='comma'>,</span> <span class='symbol'>:on_linux</span><span class='rparen'>)</span>

      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_on_macos_blocks'>on_macos_blocks</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_on_linux_blocks'>on_linux_blocks</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>
    <span class='kw'>end</span>

    <span class='ivar'>@offensive_node</span> <span class='op'>=</span> <span class='id identifier rubyid_resource_block'>resource_block</span>
    <span class='ivar'>@offense_source_range</span> <span class='op'>=</span> <span class='id identifier rubyid_resource_block'>resource_block</span><span class='period'>.</span><span class='id identifier rubyid_source_range'>source_range</span>

    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_on_macos_blocks'>on_macos_blocks</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_on_linux_blocks'>on_linux_blocks</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_on_macos_blocks'>on_macos_blocks</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>==</span> <span class='int'>1</span>
      <span class='id identifier rubyid_on_macos_block'>on_macos_block</span> <span class='op'>=</span> <span class='id identifier rubyid_on_macos_blocks'>on_macos_blocks</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
      <span class='id identifier rubyid_child_nodes'>child_nodes</span> <span class='op'>=</span> <span class='id identifier rubyid_on_macos_block'>on_macos_block</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span><span class='period'>.</span><span class='id identifier rubyid_child_nodes'>child_nodes</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_child_nodes'>child_nodes</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_method_name'>method_name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_child_nodes'>child_nodes</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_method_name'>method_name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sha256</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_problem'>problem</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>only an url and a sha256 (in the right order) are allowed in a `on_macos` </span><span class='tstring_end'>&quot;</span></span> \
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>block within a resource block.</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>next</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_on_linux_blocks'>on_linux_blocks</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>==</span> <span class='int'>1</span>
      <span class='id identifier rubyid_on_linux_block'>on_linux_block</span> <span class='op'>=</span> <span class='id identifier rubyid_on_linux_blocks'>on_linux_blocks</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
      <span class='id identifier rubyid_child_nodes'>child_nodes</span> <span class='op'>=</span> <span class='id identifier rubyid_on_linux_block'>on_linux_block</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span><span class='period'>.</span><span class='id identifier rubyid_child_nodes'>child_nodes</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_child_nodes'>child_nodes</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_method_name'>method_name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_child_nodes'>child_nodes</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_method_name'>method_name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sha256</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_problem'>problem</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>only an url and a sha256 (in the right order) are allowed in a `on_linux` </span><span class='tstring_end'>&quot;</span></span> \
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>block within a resource block.</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_on_macos_blocks'>on_macos_blocks</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='int'>1</span>
      <span class='id identifier rubyid_problem'>problem</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>there can only be one `on_macos` block in a resource block.</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_on_linux_blocks'>on_linux_blocks</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='int'>1</span>
      <span class='id identifier rubyid_problem'>problem</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>there can only be one `on_linux` block in a resource block.</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>next</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="autocorrect-instance_method">
  
    #<strong>autocorrect</strong>(_node)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p><span class='object_link'><a href="#autocorrect-instance_method" title="RuboCop::Cop::FormulaAudit::ComponentsOrder#autocorrect (method)">#autocorrect</a></span> gets called just after <span class='object_link'><a href="#component_problem-instance_method" title="RuboCop::Cop::FormulaAudit::ComponentsOrder#component_problem (method)">#component_problem</a></span>.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


162
163
164
165
166
167
168
169
170</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/rubocops/components_order.rb', line 162</span>

<span class='kw'>def</span> <span class='id identifier rubyid_autocorrect'>autocorrect</span><span class='lparen'>(</span><span class='id identifier rubyid__node'>_node</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@offensive_nodes</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

  <span class='id identifier rubyid_succeeding_node'>succeeding_node</span> <span class='op'>=</span> <span class='ivar'>@offensive_nodes</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_preceding_node'>preceding_node</span> <span class='op'>=</span> <span class='ivar'>@offensive_nodes</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_lambda'>lambda</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_corrector'>corrector</span><span class='op'>|</span>
    <span class='id identifier rubyid_reorder_components'>reorder_components</span><span class='lparen'>(</span><span class='id identifier rubyid_corrector'>corrector</span><span class='comma'>,</span> <span class='id identifier rubyid_succeeding_node'>succeeding_node</span><span class='comma'>,</span> <span class='id identifier rubyid_preceding_node'>preceding_node</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="check_on_os_block_content-instance_method">
  
    #<strong>check_on_os_block_content</strong>(component_precedence_list, on_os_block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/rubocops/components_order.rb', line 137</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_on_os_block_content'>check_on_os_block_content</span><span class='lparen'>(</span><span class='id identifier rubyid_component_precedence_list'>component_precedence_list</span><span class='comma'>,</span> <span class='id identifier rubyid_on_os_block'>on_os_block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_offensive_node'>offensive_node</span> <span class='op'>=</span> <span class='id identifier rubyid_check_order'>check_order</span><span class='lparen'>(</span><span class='id identifier rubyid_component_precedence_list'>component_precedence_list</span><span class='comma'>,</span> <span class='id identifier rubyid_on_os_block'>on_os_block</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_component_problem'>component_problem</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_offensive_node'>offensive_node</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_offensive_node'>offensive_node</span>
  <span class='id identifier rubyid_child_nodes'>child_nodes</span> <span class='op'>=</span> <span class='id identifier rubyid_on_os_block'>on_os_block</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span><span class='period'>.</span><span class='id identifier rubyid_begin_type?'>begin_type?</span> <span class='op'>?</span> <span class='id identifier rubyid_on_os_block'>on_os_block</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span><span class='period'>.</span><span class='id identifier rubyid_child_nodes'>child_nodes</span> <span class='op'>:</span> <span class='lbracket'>[</span><span class='id identifier rubyid_on_os_block'>on_os_block</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_child_nodes'>child_nodes</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_child'>child</span><span class='op'>|</span>
    <span class='id identifier rubyid_valid_node'>valid_node</span> <span class='op'>=</span> <span class='id identifier rubyid_depends_on_node?'>depends_on_node?</span><span class='lparen'>(</span><span class='id identifier rubyid_child'>child</span><span class='rparen'>)</span>
    <span class='comment'># Check for RuboCop::AST::SendNode and RuboCop::AST::BlockNode instances
</span>    <span class='comment'># only, as we are checking the method_name for `patch`, `resource`, etc.
</span>    <span class='id identifier rubyid_method_type'>method_type</span> <span class='op'>=</span> <span class='id identifier rubyid_child'>child</span><span class='period'>.</span><span class='id identifier rubyid_send_type?'>send_type?</span> <span class='op'>||</span> <span class='id identifier rubyid_child'>child</span><span class='period'>.</span><span class='id identifier rubyid_block_type?'>block_type?</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_method_type'>method_type</span>

    <span class='id identifier rubyid_valid_node'>valid_node</span> <span class='op'>||=</span> <span class='id identifier rubyid_child'>child</span><span class='period'>.</span><span class='id identifier rubyid_method_name'>method_name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>patch</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_valid_node'>valid_node</span> <span class='op'>||=</span> <span class='id identifier rubyid_child'>child</span><span class='period'>.</span><span class='id identifier rubyid_method_name'>method_name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>resource</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_valid_node'>valid_node</span> <span class='op'>||=</span> <span class='id identifier rubyid_child'>child</span><span class='period'>.</span><span class='id identifier rubyid_method_name'>method_name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>deprecate!</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_valid_node'>valid_node</span> <span class='op'>||=</span> <span class='id identifier rubyid_child'>child</span><span class='period'>.</span><span class='id identifier rubyid_method_name'>method_name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>disable!</span><span class='tstring_end'>&quot;</span></span>

    <span class='ivar'>@offensive_node</span> <span class='op'>=</span> <span class='id identifier rubyid_on_os_block'>on_os_block</span>
    <span class='ivar'>@offense_source_range</span> <span class='op'>=</span> <span class='id identifier rubyid_on_os_block'>on_os_block</span><span class='period'>.</span><span class='id identifier rubyid_source_range'>source_range</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_valid_node'>valid_node</span>
      <span class='id identifier rubyid_problem'>problem</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_on_os_block'>on_os_block</span><span class='period'>.</span><span class='id identifier rubyid_method_name'>method_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>` can only include `depends_on`, `patch` and `resource` nodes.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="check_order-instance_method">
  
    #<strong>check_order</strong>(component_precedence_list, body_node)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/rubocops/components_order.rb', line 203</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_order'>check_order</span><span class='lparen'>(</span><span class='id identifier rubyid_component_precedence_list'>component_precedence_list</span><span class='comma'>,</span> <span class='id identifier rubyid_body_node'>body_node</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_present_components'>present_components</span> <span class='op'>=</span> <span class='id identifier rubyid_component_precedence_list'>component_precedence_list</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_components'>components</span><span class='op'>|</span>
    <span class='id identifier rubyid_components'>components</span><span class='period'>.</span><span class='id identifier rubyid_flat_map'>flat_map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component'>component</span><span class='op'>|</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_component'>component</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span>
      <span class='kw'>when</span> <span class='symbol'>:method_call</span>
        <span class='id identifier rubyid_find_method_calls_by_name'>find_method_calls_by_name</span><span class='lparen'>(</span><span class='id identifier rubyid_body_node'>body_node</span><span class='comma'>,</span> <span class='id identifier rubyid_component'>component</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
      <span class='kw'>when</span> <span class='symbol'>:block_call</span>
        <span class='id identifier rubyid_find_blocks'>find_blocks</span><span class='lparen'>(</span><span class='id identifier rubyid_body_node'>body_node</span><span class='comma'>,</span> <span class='id identifier rubyid_component'>component</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
      <span class='kw'>when</span> <span class='symbol'>:method_definition</span>
        <span class='id identifier rubyid_find_method_def'>find_method_def</span><span class='lparen'>(</span><span class='id identifier rubyid_body_node'>body_node</span><span class='comma'>,</span> <span class='id identifier rubyid_component'>component</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if each present_components is above rest of the present_components
</span>  <span class='id identifier rubyid_offensive_nodes'>offensive_nodes</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_present_components'>present_components</span><span class='period'>.</span><span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='id identifier rubyid_present_components'>present_components</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>-</span> <span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_preceding_component'>preceding_component</span><span class='comma'>,</span> <span class='id identifier rubyid_p_idx'>p_idx</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_preceding_component'>preceding_component</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='id identifier rubyid_present_components'>present_components</span><span class='period'>.</span><span class='id identifier rubyid_drop'>drop</span><span class='lparen'>(</span><span class='id identifier rubyid_p_idx'>p_idx</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_succeeding_component'>succeeding_component</span><span class='op'>|</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_succeeding_component'>succeeding_component</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

      <span class='id identifier rubyid_offensive_nodes'>offensive_nodes</span> <span class='op'>=</span> <span class='id identifier rubyid_check_precedence'>check_precedence</span><span class='lparen'>(</span><span class='id identifier rubyid_preceding_component'>preceding_component</span><span class='comma'>,</span> <span class='id identifier rubyid_succeeding_component'>succeeding_component</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='lbracket'>[</span><span class='id identifier rubyid_present_components'>present_components</span><span class='comma'>,</span> <span class='id identifier rubyid_offensive_nodes'>offensive_nodes</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_offensive_nodes'>offensive_nodes</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="component_problem-instance_method">
  
    #<strong>component_problem</strong>(c1, c2)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Method to format message for reporting component precedence violations.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


233
234
235
236
237
238
239</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/rubocops/components_order.rb', line 233</span>

<span class='kw'>def</span> <span class='id identifier rubyid_component_problem'>component_problem</span><span class='lparen'>(</span><span class='id identifier rubyid_c1'>c1</span><span class='comma'>,</span> <span class='id identifier rubyid_c2'>c2</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_tap_style_exception?'>tap_style_exception?</span> <span class='symbol'>:components_order_exceptions</span>

  <span class='id identifier rubyid_problem'>problem</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>`</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_format_component'>format_component</span><span class='lparen'>(</span><span class='id identifier rubyid_c1'>c1</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>` (line </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line_number'>line_number</span><span class='lparen'>(</span><span class='id identifier rubyid_c1'>c1</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>) </span><span class='tstring_end'>&quot;</span></span> \
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>should be put before `</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_format_component'>format_component</span><span class='lparen'>(</span><span class='id identifier rubyid_c2'>c2</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>` </span><span class='tstring_end'>&quot;</span></span> \
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(line </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line_number'>line_number</span><span class='lparen'>(</span><span class='id identifier rubyid_c2'>c2</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_state-instance_method">
  
    #<strong>get_state</strong>(node1)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns precedence index and component’s index to properly reorder and group during autocorrect.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


197
198
199
200
201</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/rubocops/components_order.rb', line 197</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_state'>get_state</span><span class='lparen'>(</span><span class='id identifier rubyid_node1'>node1</span><span class='rparen'>)</span>
  <span class='ivar'>@present_components</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_idx'>idx</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='lbracket'>[</span><span class='id identifier rubyid_idx'>idx</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_node1'>node1</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_member?'>member?</span><span class='lparen'>(</span><span class='id identifier rubyid_node1'>node1</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reorder_components-instance_method">
  
    #<strong>reorder_components</strong>(corrector, node1, node2)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Reorder two nodes in the source, using the corrector instance in autocorrect method.
Components of same type are grouped together when rewriting the source.
Linebreaks are introduced if components are of two different methods/blocks/multilines.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'brew/Library/Homebrew/rubocops/components_order.rb', line 175</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reorder_components'>reorder_components</span><span class='lparen'>(</span><span class='id identifier rubyid_corrector'>corrector</span><span class='comma'>,</span> <span class='id identifier rubyid_node1'>node1</span><span class='comma'>,</span> <span class='id identifier rubyid_node2'>node2</span><span class='rparen'>)</span>
  <span class='comment'># order_idx : node1&#39;s index in component_precedence_list
</span>  <span class='comment'># curr_p_idx: node1&#39;s index in preceding_comp_arr
</span>  <span class='comment'># preceding_comp_arr: array containing components of same type
</span>  <span class='id identifier rubyid_order_idx'>order_idx</span><span class='comma'>,</span> <span class='id identifier rubyid_curr_p_idx'>curr_p_idx</span><span class='comma'>,</span> <span class='id identifier rubyid_preceding_comp_arr'>preceding_comp_arr</span> <span class='op'>=</span> <span class='id identifier rubyid_get_state'>get_state</span><span class='lparen'>(</span><span class='id identifier rubyid_node1'>node1</span><span class='rparen'>)</span>

  <span class='comment'># curr_p_idx.positive? means node1 needs to be grouped with its own kind
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_curr_p_idx'>curr_p_idx</span><span class='period'>.</span><span class='id identifier rubyid_positive?'>positive?</span>
    <span class='id identifier rubyid_node2'>node2</span> <span class='op'>=</span> <span class='id identifier rubyid_preceding_comp_arr'>preceding_comp_arr</span><span class='lbracket'>[</span><span class='id identifier rubyid_curr_p_idx'>curr_p_idx</span> <span class='op'>-</span> <span class='int'>1</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_indentation'>indentation</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='lparen'>(</span><span class='id identifier rubyid_start_column'>start_column</span><span class='lparen'>(</span><span class='id identifier rubyid_node2'>node2</span><span class='rparen'>)</span> <span class='op'>-</span> <span class='id identifier rubyid_line_start_column'>line_start_column</span><span class='lparen'>(</span><span class='id identifier rubyid_node2'>node2</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_line_breaks'>line_breaks</span> <span class='op'>=</span> <span class='id identifier rubyid_node2'>node2</span><span class='period'>.</span><span class='id identifier rubyid_multiline?'>multiline?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\n</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_corrector'>corrector</span><span class='period'>.</span><span class='id identifier rubyid_insert_after'>insert_after</span><span class='lparen'>(</span><span class='id identifier rubyid_node2'>node2</span><span class='period'>.</span><span class='id identifier rubyid_source_range'>source_range</span><span class='comma'>,</span> <span class='id identifier rubyid_line_breaks'>line_breaks</span> <span class='op'>+</span> <span class='id identifier rubyid_indentation'>indentation</span> <span class='op'>+</span> <span class='id identifier rubyid_node1'>node1</span><span class='period'>.</span><span class='id identifier rubyid_source'>source</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_indentation'>indentation</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='lparen'>(</span><span class='id identifier rubyid_start_column'>start_column</span><span class='lparen'>(</span><span class='id identifier rubyid_node2'>node2</span><span class='rparen'>)</span> <span class='op'>-</span> <span class='id identifier rubyid_line_start_column'>line_start_column</span><span class='lparen'>(</span><span class='id identifier rubyid_node2'>node2</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='comment'># No line breaks up to version_scheme, order_idx == 8
</span>    <span class='id identifier rubyid_line_breaks'>line_breaks</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_order_idx'>order_idx</span> <span class='op'>&gt;</span> <span class='int'>8</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n\n</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_corrector'>corrector</span><span class='period'>.</span><span class='id identifier rubyid_insert_before'>insert_before</span><span class='lparen'>(</span><span class='id identifier rubyid_node2'>node2</span><span class='period'>.</span><span class='id identifier rubyid_source_range'>source_range</span><span class='comma'>,</span> <span class='id identifier rubyid_node1'>node1</span><span class='period'>.</span><span class='id identifier rubyid_source'>source</span> <span class='op'>+</span> <span class='id identifier rubyid_line_breaks'>line_breaks</span> <span class='op'>+</span> <span class='id identifier rubyid_indentation'>indentation</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_corrector'>corrector</span><span class='period'>.</span><span class='id identifier rubyid_remove'>remove</span><span class='lparen'>(</span><span class='id identifier rubyid_range_with_surrounding_space'>range_with_surrounding_space</span><span class='lparen'>(</span><span class='label'>range:</span> <span class='id identifier rubyid_node1'>node1</span><span class='period'>.</span><span class='id identifier rubyid_source_range'>source_range</span><span class='comma'>,</span> <span class='label'>side:</span> <span class='symbol'>:left</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
     Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>.
</div>

    </div>
  </body>
</html>