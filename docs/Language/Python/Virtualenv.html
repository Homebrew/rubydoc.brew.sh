<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Language::Python::Virtualenv
  
    &mdash; Homebrew Ruby API
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Language::Python::Virtualenv";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (V)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Language.html" title="Language (module)">Language</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Python.html" title="Language::Python (module)">Python</a></span></span>
     &raquo; 
    <span class="title">Virtualenv</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Language::Python::Virtualenv
  
  
  <span class="private note title">Private</span>
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>language/python.rb<span class="defines">,<br />
  language/python.rbi</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This module is part of a private API.</strong>
  This module may only be used in the <a href="https://github.com/Homebrew/brew">Homebrew/brew</a> repository.
  Third parties should avoid using this module if possible, as it may be removed or changed without warning.
</p>
<p>Mixin module for <span class='object_link'><a href="../../Formula.html" title="Formula (class)">Formula</a></span> adding virtualenv support features.</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Virtualenv/Virtualenv.html" title="Language::Python::Virtualenv::Virtualenv (class)">Virtualenv</a></span>
    
  
</p>







  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#needs_python%3F-instance_method" title="#needs_python? (instance method)">#<strong>needs_python?</strong>(python)  &#x21d2; Boolean </a>
    
    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>
  
    <span class="summary_desc"><div class='inline'><p>Returns true if a formula option for the specified python is currently active or if the specified python is required by the formula.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#python_names-instance_method" title="#python_names (instance method)">#<strong>python_names</strong>  &#x21d2; Array&lt;String&gt; </a>
    
    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>
  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#virtualenv_create-instance_method" title="#virtualenv_create (instance method)">#<strong>virtualenv_create</strong>(venv_root, python = &quot;python&quot;, formula = T.cast(self, Formula), system_site_packages: true, without_pip: true)  &#x21d2; Virtualenv </a>
    
    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>
  
    <span class="summary_desc"><div class='inline'><p>Instantiates, creates, and yields a <span class='object_link'><a href="Virtualenv/Virtualenv.html" title="Language::Python::Virtualenv::Virtualenv (class)">Virtualenv</a></span> object for use from <span class='object_link'><a href="../../Formula.html#install-instance_method" title="Formula#install (method)">Formula#install</a></span>, which provides helper methods for instantiating and installing packages into a Python virtualenv.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#virtualenv_install_with_resources-instance_method" title="#virtualenv_install_with_resources (instance method)">#<strong>virtualenv_install_with_resources</strong>(using: nil, system_site_packages: true, without_pip: true, link_manpages: false, without: nil, start_with: nil, end_with: nil)  &#x21d2; Virtualenv </a>
    
    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>
  
    <span class="summary_desc"><div class='inline'><p>Helper method for the common case of installing a Python application.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="needs_python?-instance_method">
  
    #<strong>needs_python?</strong>(python)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  This method may only be used in the <a href="https://github.com/Homebrew/brew">Homebrew/brew</a> repository.
  Third parties should avoid using this method if possible, as it may be removed or changed without warning.
</p>
<p>Returns true if a formula option for the specified python is currently
active or if the specified python is required by the formula. Valid
inputs are &quot;python&quot;, &quot;python2&quot;, and :python3. Note that
&quot;with-python&quot;, &quot;without-python&quot;, &quot;with-python@2&quot;, and &quot;without-python@2&quot;
formula options are handled correctly even if not associated with any
corresponding depends_on statement.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>python</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


206
207
208
209
210</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'language/python.rb', line 206</span>

<span class='kw'>def</span> <span class='id identifier rubyid_needs_python?'>needs_python?</span><span class='lparen'>(</span><span class='id identifier rubyid_python'>python</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_build'>build</span><span class='period'>.</span><span class='id identifier rubyid_with?'>with?</span><span class='lparen'>(</span><span class='id identifier rubyid_python'>python</span><span class='rparen'>)</span>

  <span class='lparen'>(</span><span class='id identifier rubyid_requirements'>requirements</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span> <span class='op'>|</span> <span class='id identifier rubyid_deps'>deps</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span> <span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span> <span class='op'>==</span> <span class='id identifier rubyid_python'>python</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_required?'>required?</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="python_names-instance_method">
  
    #<strong>python_names</strong>  &#x21d2; <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../String.html" title="String (class)">String</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  This method may only be used in the <a href="https://github.com/Homebrew/brew">Homebrew/brew</a> repository.
  Third parties should avoid using this method if possible, as it may be removed or changed without warning.
</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../String.html" title="String (class)">String</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


262
263
264</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'language/python.rb', line 262</span>

<span class='kw'>def</span> <span class='id identifier rubyid_python_names'>python_names</span>
  <span class='qwords_beg'>%w[</span><span class='tstring_content'>python</span><span class='words_sep'> </span><span class='tstring_content'>python3</span><span class='words_sep'> </span><span class='tstring_content'>pypy</span><span class='words_sep'> </span><span class='tstring_content'>pypy3</span><span class='tstring_end'>]</span></span> <span class='op'>+</span> <span class='const'><span class='object_link'><a href="../../Formula.html" title="Formula (class)">Formula</a></span></span><span class='period'>.</span><span class='id identifier rubyid_names'><span class='object_link'><a href="../../Formula.html#names-class_method" title="Formula.names (method)">names</a></span></span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span> <span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>python@</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="virtualenv_create-instance_method">
  
    #<strong>virtualenv_create</strong>(venv_root, python = &quot;python&quot;, formula = T.cast(self, Formula), system_site_packages: true, without_pip: true)  &#x21d2; <tt><span class='object_link'><a href="Virtualenv/Virtualenv.html" title="Language::Python::Virtualenv::Virtualenv (class)">Virtualenv</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  This method may only be used in the <a href="https://github.com/Homebrew/brew">Homebrew/brew</a> repository.
  Third parties should avoid using this method if possible, as it may be removed or changed without warning.
</p>
<p>Instantiates, creates, and yields a <span class='object_link'><a href="Virtualenv/Virtualenv.html" title="Language::Python::Virtualenv::Virtualenv (class)">Virtualenv</a></span> object for use from
<span class='object_link'><a href="../../Formula.html#install-instance_method" title="Formula#install (method)">Formula#install</a></span>, which provides helper methods for instantiating and
installing packages into a Python virtualenv.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>venv_root</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="../../Pathname.html" title="Pathname (class)">Pathname</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the path to the root of the virtualenv
(often <code>libexec/&quot;venv&quot;</code>)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>python</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="../../Pathname.html" title="Pathname (class)">Pathname</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&quot;python&quot;</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>which interpreter to use (e.g. &quot;python3&quot;
or &quot;python3.x&quot;)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>formula</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Formula.html" title="Formula (class)">Formula</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>T.cast(self, Formula)</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>the active <span class='object_link'><a href="../../Formula.html" title="Formula (class)">Formula</a></span></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>system_site_packages</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>without_pip</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Virtualenv/Virtualenv.html" title="Language::Python::Virtualenv::Virtualenv (class)">Virtualenv</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>a <span class='object_link'><a href="Virtualenv/Virtualenv.html" title="Language::Python::Virtualenv::Virtualenv (class)">Virtualenv</a></span> instance</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'language/python.rb', line 166</span>

<span class='kw'>def</span> <span class='id identifier rubyid_virtualenv_create'>virtualenv_create</span><span class='lparen'>(</span><span class='id identifier rubyid_venv_root'>venv_root</span><span class='comma'>,</span> <span class='id identifier rubyid_python'>python</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>python</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_formula'>formula</span> <span class='op'>=</span> <span class='const'>T</span><span class='period'>.</span><span class='id identifier rubyid_cast'>cast</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../Formula.html" title="Formula (class)">Formula</a></span></span><span class='rparen'>)</span><span class='comma'>,</span>
                      <span class='label'>system_site_packages:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>without_pip:</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='comment'># Limit deprecation to 3.12+ for now (or if we can&#39;t determine the version).
</span>  <span class='comment'># Some used this argument for setuptools, which we no longer bundle since 3.12.
</span>  <span class='kw'>unless</span> <span class='id identifier rubyid_without_pip'>without_pip</span>
    <span class='id identifier rubyid_python_version'>python_version</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Language.html" title="Language (module)">Language</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Python.html" title="Language::Python (module)">Python</a></span></span><span class='period'>.</span><span class='id identifier rubyid_major_minor_version'><span class='object_link'><a href="../Python.html#major_minor_version-class_method" title="Language::Python.major_minor_version (method)">major_minor_version</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_python'>python</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_python_version'>python_version</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_python_version'>python_version</span><span class='period'>.</span><span class='id identifier rubyid_null?'>null?</span> <span class='op'>||</span> <span class='id identifier rubyid_python_version'>python_version</span> <span class='op'>&gt;=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>3.12</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>virtualenv_create&#39;s without_pip is deprecated starting with Python 3.12</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='const'><span class='object_link'><a href="../../ENV.html" title="ENV (class)">ENV</a></span></span><span class='period'>.</span><span class='id identifier rubyid_refurbish_args'><span class='object_link'><a href="../../Superenv.html#refurbish_args-instance_method" title="Superenv#refurbish_args (method)">refurbish_args</a></span></span>
  <span class='id identifier rubyid_venv'>venv</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Virtualenv/Virtualenv.html" title="Language::Python::Virtualenv::Virtualenv (class)">Virtualenv</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Virtualenv/Virtualenv.html#initialize-instance_method" title="Language::Python::Virtualenv::Virtualenv#initialize (method)">new</a></span></span> <span class='id identifier rubyid_formula'>formula</span><span class='comma'>,</span> <span class='id identifier rubyid_venv_root'>venv_root</span><span class='comma'>,</span> <span class='id identifier rubyid_python'>python</span>
  <span class='id identifier rubyid_venv'>venv</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='label'>system_site_packages:</span><span class='comma'>,</span> <span class='label'>without_pip:</span><span class='rparen'>)</span>

  <span class='comment'># Find any Python bindings provided by recursive dependencies
</span>  <span class='id identifier rubyid_formula_deps'>formula_deps</span> <span class='op'>=</span> <span class='id identifier rubyid_formula'>formula</span><span class='period'>.</span><span class='id identifier rubyid_recursive_dependencies'>recursive_dependencies</span>
  <span class='id identifier rubyid_pth_contents'>pth_contents</span> <span class='op'>=</span> <span class='id identifier rubyid_formula_deps'>formula_deps</span><span class='period'>.</span><span class='id identifier rubyid_filter_map'>filter_map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_d'>d</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_build?'>build?</span> <span class='op'>||</span> <span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_test?'>test?</span>
    <span class='comment'># Do not add the main site-package provided by the brewed
</span>    <span class='comment'># Python formula, to keep the virtual-env&#39;s site-package pristine
</span>    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_python_names'>python_names</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>

    <span class='id identifier rubyid_dep_site_packages'>dep_site_packages</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Formula.html" title="Formula (class)">Formula</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_opt_prefix'>opt_prefix</span><span class='op'>/</span><span class='const'>Language</span><span class='op'>::</span><span class='const'>Python</span><span class='period'>.</span><span class='id identifier rubyid_site_packages'>site_packages</span><span class='lparen'>(</span><span class='id identifier rubyid_python'>python</span><span class='rparen'>)</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_dep_site_packages'>dep_site_packages</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span>

    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>import site; site.addsitedir(&#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dep_site_packages'>dep_site_packages</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;)\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='lparen'>(</span><span class='id identifier rubyid_venv'>venv</span><span class='period'>.</span><span class='id identifier rubyid_site_packages'>site_packages</span><span class='op'>/</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>homebrew_deps.pth</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span> <span class='id identifier rubyid_pth_contents'>pth_contents</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span> <span class='kw'>unless</span> <span class='id identifier rubyid_pth_contents'>pth_contents</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='id identifier rubyid_venv'>venv</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="virtualenv_install_with_resources-instance_method">
  
    #<strong>virtualenv_install_with_resources</strong>(using: nil, system_site_packages: true, without_pip: true, link_manpages: false, without: nil, start_with: nil, end_with: nil)  &#x21d2; <tt><span class='object_link'><a href="Virtualenv/Virtualenv.html" title="Language::Python::Virtualenv::Virtualenv (class)">Virtualenv</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  This method may only be used in the <a href="https://github.com/Homebrew/brew">Homebrew/brew</a> repository.
  Third parties should avoid using this method if possible, as it may be removed or changed without warning.
</p>
<p>Helper method for the common case of installing a Python application.
Creates a virtualenv in <code>libexec</code>, installs all <code>resource</code>s defined
on the formula, and then installs the formula. An options hash may be
passed (e.g. <code>:using =&gt; &quot;python&quot;</code>) to override the default, guessed
formula preference for python or <a href="mailto:python@x.y">python@x.y</a>, or to resolve an ambiguous
case where it&#39;s not clear whether python or <a href="mailto:python@x.y">python@x.y</a> should be the
default guess.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>using</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>system_site_packages</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>without_pip</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>link_manpages</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>without</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../String.html" title="String (class)">String</a></span>&gt;</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>start_with</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../String.html" title="String (class)">String</a></span>&gt;</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>end_with</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../String.html" title="String (class)">String</a></span>&gt;</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Virtualenv/Virtualenv.html" title="Language::Python::Virtualenv::Virtualenv (class)">Virtualenv</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'language/python.rb', line 230</span>

<span class='kw'>def</span> <span class='id identifier rubyid_virtualenv_install_with_resources'>virtualenv_install_with_resources</span><span class='lparen'>(</span><span class='label'>using:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>system_site_packages:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>without_pip:</span> <span class='kw'>true</span><span class='comma'>,</span>
                                      <span class='label'>link_manpages:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>without:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>start_with:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>end_with:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_python'>python</span> <span class='op'>=</span> <span class='id identifier rubyid_using'>using</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_python'>python</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_wanted'>wanted</span> <span class='op'>=</span> <span class='id identifier rubyid_python_names'>python_names</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_py'>py</span><span class='op'>|</span> <span class='id identifier rubyid_needs_python?'>needs_python?</span><span class='lparen'>(</span><span class='id identifier rubyid_py'>py</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../FormulaUnknownPythonError.html" title="FormulaUnknownPythonError (class)">FormulaUnknownPythonError</a></span></span><span class='comma'>,</span> <span class='kw'>self</span> <span class='kw'>if</span> <span class='id identifier rubyid_wanted'>wanted</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../FormulaAmbiguousPythonError.html" title="FormulaAmbiguousPythonError (class)">FormulaAmbiguousPythonError</a></span></span><span class='comma'>,</span> <span class='kw'>self</span> <span class='kw'>if</span> <span class='id identifier rubyid_wanted'>wanted</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span>

    <span class='id identifier rubyid_python'>python</span> <span class='op'>=</span> <span class='const'>T</span><span class='period'>.</span><span class='id identifier rubyid_must'>must</span><span class='lparen'>(</span><span class='id identifier rubyid_wanted'>wanted</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_python'>python</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>python3</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_python'>python</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>python</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_venv_resources'>venv_resources</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_without'>without</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_start_with'>start_with</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_end_with'>end_with</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_resources'>resources</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_remaining_resources'>remaining_resources</span> <span class='op'>=</span> <span class='id identifier rubyid_resources'>resources</span><span class='period'>.</span><span class='id identifier rubyid_to_h'>to_h</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_resource'>resource</span><span class='op'>|</span> <span class='lbracket'>[</span><span class='id identifier rubyid_resource'>resource</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_resource'>resource</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>

    <span class='id identifier rubyid_slice_resources!'>slice_resources!</span><span class='lparen'>(</span><span class='id identifier rubyid_remaining_resources'>remaining_resources</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_without'>without</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_start_with_resources'>start_with_resources</span> <span class='op'>=</span> <span class='id identifier rubyid_slice_resources!'>slice_resources!</span><span class='lparen'>(</span><span class='id identifier rubyid_remaining_resources'>remaining_resources</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_start_with'>start_with</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_end_with_resources'>end_with_resources</span> <span class='op'>=</span> <span class='id identifier rubyid_slice_resources!'>slice_resources!</span><span class='lparen'>(</span><span class='id identifier rubyid_remaining_resources'>remaining_resources</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_end_with'>end_with</span><span class='rparen'>)</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_start_with_resources'>start_with_resources</span> <span class='op'>+</span> <span class='id identifier rubyid_remaining_resources'>remaining_resources</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span> <span class='op'>+</span> <span class='id identifier rubyid_end_with_resources'>end_with_resources</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_venv'>venv</span> <span class='op'>=</span> <span class='id identifier rubyid_virtualenv_create'>virtualenv_create</span><span class='lparen'>(</span><span class='id identifier rubyid_libexec'>libexec</span><span class='comma'>,</span> <span class='id identifier rubyid_python'>python</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='label'>system_site_packages:</span><span class='comma'>,</span>
                                                        <span class='label'>without_pip:</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_venv'>venv</span><span class='period'>.</span><span class='id identifier rubyid_pip_install'>pip_install</span> <span class='id identifier rubyid_venv_resources'>venv_resources</span>
  <span class='id identifier rubyid_venv'>venv</span><span class='period'>.</span><span class='id identifier rubyid_pip_install_and_link'>pip_install_and_link</span><span class='lparen'>(</span><span class='const'>T</span><span class='period'>.</span><span class='id identifier rubyid_must'>must</span><span class='lparen'>(</span><span class='id identifier rubyid_buildpath'>buildpath</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='label'>link_manpages:</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_venv'>venv</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
     Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>.
</div>

    </div>
  </body>
</html>